"use strict";function isArray(e){return!!e&&Array===e.constructor}function isArray$1(e){return!!e&&Array===e.constructor}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i18nVuexModule={state:{locale:null,fallback:null,translations:{}},mutations:{SET_LOCALE:function e(n,t){n.locale=t.locale},ADD_LOCALE:function e(n,t){var o=flattenTranslations(t.translations);n.translations[t.locale]=o},REMOVE_LOCALE:function e(n,t){if(n.translations.hasOwnProperty(t.locale)){n.locale===t.locale&&(n.locale=null);var o=Object.assign({},n.translations);delete o[t.locale],n.translations=o}},SET_FALLBACK_LOCALE:function e(n,t){n.fallback=t.locale}},actions:{setLocale:function e(n,t){n.commit({type:"SET_LOCALE",locale:t.locale})},addLocale:function e(n,t){n.commit({type:"ADD_LOCALE",locale:t.locale,translations:t.translations})},removeLocale:function e(n,t){n.commit({type:"REMOVE_LOCALE",locale:t.locale,translations:t.translations})},setFallbackLocale:function e(n,t){n.commit({type:"SET_FALLBACK_LOCALE",locale:t.locale})}}},flattenTranslations=function e(n){var t={};for(var o in n)if(n.hasOwnProperty(o)){var r=_typeof(n[o]);if(isArray(n[o])){for(var a=n[o].length,l=0;l<a;l++){var i=_typeof(n[o][l]);if("string"!==i){console.warn("vuex-i18n:","currently only arrays of strings are fully supported",n[o]);break}}t[o]=n[o]}else if("object"==r&&null!==r){var c=e(n[o]);for(var s in c)c.hasOwnProperty(s)&&(t[o+"."+s]=c[s])}else t[o]=n[o]}return t},VuexI18nPlugin={};VuexI18nPlugin.install=function e(n,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"i18n";if(t.state.hasOwnProperty(o)===!1)return console.error("i18n vuex module is not correctly initialized. Please check the module name:",o),n.prototype.$i18n=function(e){return e},n.prototype.$getLanguage=function(){return null},void(n.prototype.$setLanguage=function(){console.error("i18n vuex module is not correctly initialized")});var r=function e(n,r,l){var i=t.state[o].locale;return a(i,n,r,l)},a=function e(n,r,a,l){var i=t.state[o].fallback,c=t.state[o].translations,s=!0;return c.hasOwnProperty(n)===!1?s=!1:c[n].hasOwnProperty(r)===!1&&(s=!1),s===!0?render(c[n][r],a,l):c.hasOwnProperty(i)===!1?render(r,a,l):c[i].hasOwnProperty(r)===!1?render(r,a,l):render(c[i][r],a,l)},l=function e(n){t.dispatch({type:"setFallbackLocale",locale:n})},i=function e(n){t.dispatch({type:"setLocale",locale:n})},c=function e(){return t.state[o].locale},s=function e(n,o){return t.dispatch({type:"addLocale",locale:n,translations:o})},u=function e(n){t.state[o].translations.hasOwnProperty(n)&&t.dispatch({type:"removeLocale",locale:n})},f=function e(n){return t.state[o].translations.hasOwnProperty(n)};n.prototype.$i18n={locale:c,set:i,add:s,remove:u,fallback:l,exists:f},n.i18n={locale:c,set:i,add:s,remove:u,fallback:l,exists:f,translate:r,translateIn:a},n.prototype.$t=r,n.prototype.$tlang=a,n.filter("translate",r)};var replace=function e(n,t){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n.replace?n.replace(/\{\w+\}/g,function(e){var r=e.replace("{","").replace("}","");return void 0!==t[r]?t[r]:(o===!0&&(console.group("Not all placeholder founds"),console.warn("Text:",n),console.warn("Placeholder:",e),console.groupEnd()),e)}):n},render=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r="undefined"==typeof n?"undefined":_typeof(n),a="undefined"==typeof o?"undefined":_typeof(o),l=function e(){return isArray$1(n)?n.map(function(e){return replace(e,t,!1)}):"string"===r?replace(n,t):void 0};if(null===o)return l();if("number"!==a)return console.warn("pluralization is not a number"),l();var i=l().split(":::");return 1===o?i[0].trim():i.length>1?i[1].trim():(console.warn("no pluralized translation provided in ",n),i[0].trim())},index={store:i18nVuexModule,plugin:VuexI18nPlugin};module.exports=index;