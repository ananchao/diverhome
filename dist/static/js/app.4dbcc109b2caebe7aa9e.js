webpackJsonp([14,15],{105:function(t,e,n){n(174);var a=n(10)(n(165),n(179),null,null);t.exports=a.exports},106:function(t,e,n){n(177);var a=n(10)(n(166),n(182),null,null);t.exports=a.exports},107:function(t,e,n){n(176);var a=n(10)(n(167),n(181),null,null);t.exports=a.exports},160:function(t,e,n){"use strict";e.a={}},161:function(t,e,n){"use strict";e.a={}},162:function(t,e,n){"use strict";var a,i=n(159),o=n.n(i),r=n(163),s=n(42),u={memberShip:{},badge:-1},c={badgeStr:function(t){return t.badge<=0?"":t.badge+""}},l=(a={},o()(a,r.a,function(t,e){t.memberShip=e}),o()(a,r.b,function(t,e){t.badge=e}),a),d={initUser:function(t,e){var n=t.commit,a=(t.state,e.member_id);return s.a.get("getMemberById/"+a).then(function(t){n(r.a,t.data)})},getBadge:function(t,e){var n=t.commit,a=(t.state,e.member_id);return s.a.get("getNoticeBadge/"+a).then(function(t){n(r.b,t.data)})}};e.a={state:u,getters:c,mutations:l,actions:d}},163:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a="INIT_USER",i="GET_BADGE"},164:function(t,e,n){"use strict";e.a={}},165:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(51),i=n.n(a);e.default={components:{XDialog:i.a},created:function(){void 0!==this.value&&(this.showValue=this.value)},props:{value:Boolean,title:String,content:String,buttonText:String,maskTransition:{type:String,default:"vux-mask"},dialogTransition:{type:String,default:"vux-dialog"}},data:function(){return{showValue:!1}},methods:{_onHide:function(){this.showValue=!1}},watch:{value:function(t){this.showValue=t},showValue:function(t){this.$emit("input",t)}}}},166:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(51),i=n.n(a);e.default={components:{XDialog:i.a},props:{value:{type:Boolean,default:!1},hideOnBlur:{type:Boolean,default:!1},title:String,confirmText:String,cancelText:String,maskTransition:{type:String,default:"vux-fade"},dialogTransition:{type:String,default:"vux-dialog"},content:String},created:function(){this.showValue=this.show,this.value&&(this.showValue=this.value)},watch:{value:function(t){this.showValue=t},showValue:function(t){this.$emit("input",t)}},data:function(){return{showValue:!1}},methods:{_onConfirm:function(){this.showValue=!1,this.$emit("on-confirm")},_onCancel:function(){this.showValue=!1,this.$emit("on-cancel")}}}},167:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{value:{type:Boolean,default:!1},text:String,position:String},created:function(){this.show=this.value},data:function(){return{show:!1}},watch:{value:function(t){this.show=t},show:function(t){this.$emit("input",t)}}}},168:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{value:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},dialogTransition:{type:String,default:"vux-dialog"},hideOnBlur:Boolean,scroll:{type:Boolean,default:!0}},created:function(){void 0!==this.value&&(this.currentValue=this.value)},watch:{value:{handler:function(t){this.currentValue=t},immediate:!0},currentValue:function(t){this.$emit(t?"on-show":"on-hide"),this.$emit("input",t)}},data:function(){return{currentValue:!1}},methods:{onTouchMove:function(t){!this.scroll&&t.preventDefault()}}}},169:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},173:function(t,e){},174:function(t,e){},175:function(t,e){},176:function(t,e){},177:function(t,e){},178:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vux-x-dialog",on:{touchmove:t.onTouchMove}},[n("transition",{attrs:{name:t.maskTransition}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.currentValue,expression:"currentValue"}],staticClass:"weui-mask",on:{click:function(e){t.hideOnBlur&&(t.currentValue=!1)}}})]),t._v(" "),n("transition",{attrs:{name:t.dialogTransition}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.currentValue,expression:"currentValue"}],staticClass:"weui-dialog"},[t._t("default")],2)])],1)},staticRenderFns:[]}},179:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vux-alert"},[n("x-dialog",{attrs:{"mask-transition":t.maskTransition,"dialog-transition":t.dialogTransition},on:{"on-hide":function(e){t.$emit("on-hide")},"on-show":function(e){t.$emit("on-show")}},model:{value:t.showValue,callback:function(e){t.showValue=e}}},[n("div",{staticClass:"weui-dialog__hd"},[n("strong",{staticClass:"weui-dialog__title"},[t._v(t._s(t.title))])]),t._v(" "),n("div",{staticClass:"weui-dialog__bd"},[t._t("default",[n("div",{domProps:{innerHTML:t._s(t.content)}})])],2),t._v(" "),n("div",{staticClass:"weui-dialog__ft"},[n("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:t._onHide}},[t._v(t._s(t.buttonText||t.$t("vux.alert.button_text")))])])])],1)},staticRenderFns:[]}},180:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"router-fade",mode:"out-in"}},[n("keep-alive",[n("router-view")],1)],1)],1)},staticRenderFns:[]}},181:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"vux-mask"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-loading_toast"},[n("div",{staticClass:"weui-mask_transparent"}),t._v(" "),n("div",{staticClass:"weui-toast",style:{position:t.position}},[n("i",{staticClass:"weui-loading weui-icon_toast"}),t._v(" "),n("p",{staticClass:"weui-toast__content"},[t._v(t._s(t.$t(t.text)||t.$t("vux.loading.loading"))),t._t("default")],2)])])])},staticRenderFns:[]}},182:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("x-dialog",{attrs:{"mask-transition":t.maskTransition,"dialog-transition":t.dialogTransition,"hide-on-blur":t.hideOnBlur},on:{"on-hide":function(e){t.$emit("on-hide")},"on-show":function(e){t.$emit("on-show")}},model:{value:t.showValue,callback:function(e){t.showValue=e}}},[n("div",{staticClass:"weui-dialog__hd"},[n("strong",{staticClass:"weui-dialog__title"},[t._v(t._s(t.title))])]),t._v(" "),n("div",{staticClass:"weui-dialog__bd"},[t._t("default",[n("div",{domProps:{innerHTML:t._s(t.content)}})])],2),t._v(" "),n("div",{staticClass:"weui-dialog__ft"},[n("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:t._onCancel}},[t._v(t._s(t.cancelText||t.$t("vux.confirm.cancel_text")))]),t._v(" "),n("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:t._onConfirm}},[t._v(t._s(t.confirmText||t.$t("vux.confirm.confirm_text")))])])])],1)},staticRenderFns:[]}},183:function(t,e){},184:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(71),i=(n.n(a),n(24)),o=n.n(i),r=n(69),s=n.n(r),u=n(41),c=n(25),l=n(68),d=n.n(l),h=n(40),f=n(70),p=n.n(f),m=n(72),v=(n.n(m),n(75)),_=n(73),g=n(74);s.a.attach(document.body),o.a.use(h.a);var w=new h.a.Store({modules:{i18n:p.a.store}});o.a.use(p.a.plugin,w),n.i(m.sync)(c.a,u.a),o.a.use(v.a),o.a.use(_.a),o.a.use(g.a),new o.a({router:u.a,store:c.a,render:function(t){return t(d.a)}}).$mount("#app-box")},25:function(t,e,n){"use strict";var a=n(24),i=n.n(a),o=n(40),r=n(164),s=n(160),u=n(161),c=n(162);i.a.use(o.a);var l={};e.a=new o.a.Store({state:l,getters:u.a,actions:s.a,mutations:r.a,modules:{user:c.a}})},41:function(t,e,n){"use strict";var a=n(43),i=n.n(a),o=n(24),r=n.n(o),s=n(115),u=n(79),c=n(25);r.a.use(s.a);var l=function(t){n.e(5).then(function(){var e=[n(190)];t.apply(null,e)}.bind(this)).catch(n.oe)},d=function(t){n.e(4).then(function(){var e=[n(197)];t.apply(null,e)}.bind(this)).catch(n.oe)},h=function(t){n.e(6).then(function(){var e=[n(198)];t.apply(null,e)}.bind(this)).catch(n.oe)},f=function(t){n.e(7).then(function(){var e=[n(192)];t.apply(null,e)}.bind(this)).catch(n.oe)},p=function(t){n.e(10).then(function(){var e=[n(188)];t.apply(null,e)}.bind(this)).catch(n.oe)},m=function(t){n.e(2).then(function(){var e=[n(196)];t.apply(null,e)}.bind(this)).catch(n.oe)},v=function(t){n.e(0).then(function(){var e=[n(194)];t.apply(null,e)}.bind(this)).catch(n.oe)},_=function(t){n.e(1).then(function(){var e=[n(189)];t.apply(null,e)}.bind(this)).catch(n.oe)},g=function(t){n.e(9).then(function(){var e=[n(191)];t.apply(null,e)}.bind(this)).catch(n.oe)},w=function(t){n.e(11).then(function(){var e=[n(187)];t.apply(null,e)}.bind(this)).catch(n.oe)},b=function(t){n.e(8).then(function(){var e=[n(195)];t.apply(null,e)}.bind(this)).catch(n.oe)},x=function(t){n.e(3).then(function(){var e=[n(199)];t.apply(null,e)}.bind(this)).catch(n.oe)},y=function(t){n.e(12).then(function(){var e=[n(193)];t.apply(null,e)}.bind(this)).catch(n.oe)},S=new s.a({routes:[{path:"/",redirect:"/main"},{path:"/main",component:l,children:[{path:"",redirect:"/shop"},{path:"/shop",component:d,children:[{path:"",redirect:"course"},{path:"course",component:p,props:{category:"course"}},{path:"goods",component:p,props:{category:"goods"}}]},{path:"/user",component:h,meta:{requiresAuth:!0}},{path:"/notice",component:f,meta:{requiresAuth:!0}},{path:"/productDetail/:id",component:m},{path:"/order/:id",component:v,meta:{requiresAuth:!0}},{path:"/login",component:_},{path:"/myOrder",component:g,meta:{requiresAuth:!0},children:[{path:"",redirect:"toVerifyOrder"},{path:"toVerifyOrder",component:w,props:{category:"toVerifyOrder"}},{path:"verifiedOrder",component:w,props:{category:"verifiedOrder"}}]},{path:"/orderDetail/:id",component:b,meta:{requiresAuth:!0}},{path:"/userInfo",component:x,meta:{requiresAuth:!0}},{path:"/openIdValid",component:y}]}]});S.beforeEach(function(t,e,n){localStorage.member_id&&c.a.state.user.badge==-1&&c.a.dispatch("getBadge",{member_id:localStorage.member_id}),t.matched.some(function(t){return t.meta.requiresAuth})?u.a.loggedIn(function(){var t=localStorage.member_id;"{}"==i()(c.a.state.user.memberShip)&&(c.a.dispatch("initUser",{member_id:t}),c.a.dispatch("getBadge",{member_id:t})),n()},function(){sessionStorage.toPullPath=t.fullPath,n({path:"/login",query:{redirect:t.fullPath}})}):n()}),e.a=S},42:function(t,e,n){"use strict";(function(t){var a=n(78),i=n.n(a),o=n(43),r=n.n(o),s=n(45),u=n.n(s),c=n(170),l=n.n(c),d=n(114),h=n.n(d),f=n(154),p=n.n(f),m=n(76),v=void 0;v=t.__API__?t.__API__:t.__API__={api:m.a.serverUrl+"/diverhome/rest/",cached:p()({max:1e3,maxAge:9e5})},e.a={post:function(t,e,n){var a=h()(t+r()(e));return v.cached&&v.cached.has(a)?new i.a(function(t,e){t(v.cached.get(a))}):new i.a(function(n,i){u()({method:"post",url:v.api+t,headers:{customToken:localStorage.getItem("customToken")},data:l.a.stringify(e)}).then(function(t){v.cached&&e.cache&&v.cached.set(a,t.data),n(t.data)}).catch(function(t){i()})})},get:function(t,e,n){var a=h()(t+r()(e));return v.cached&&v.cached.has(a)?new i.a(function(t,e){t(v.cached.get(a))}):new i.a(function(n,a){u.a.get(v.api+t,{headers:{customToken:localStorage.getItem("customToken")},params:e}).then(function(t){n(t.data)}).catch(function(t){a()})})}}}).call(e,n(15))},51:function(t,e,n){n(173);var a=n(10)(n(168),n(178),null,null);t.exports=a.exports},68:function(t,e,n){n(175);var a=n(10)(n(169),n(180),null,null);t.exports=a.exports},76:function(t,e,n){"use strict";e.a={serverUrl:"http://192.168.2.210:8888",alertInfo:"提示信息",errorInfo:"亲，网络发生异常！"}},79:function(t,e,n){"use strict";function a(t,e){i.a.post("wechatLogin",{phone:t,cache:!1}).then(function(n){"1"==n.status?e({authenticated:!0,customToken:n.data.customToken,member_id:n.data.member_id}):"3"==n.status?(sessionStorage.phone=t,window.location.href=n.data):e({authenticated:!1})})}var i=n(42),o=(n(25),n(41),n(45)),r=(n.n(o),n(153));n.n(r);e.a={login:function(t,e,n){a(t,function(t){t.authenticated?(localStorage.customToken=t.customToken,localStorage.member_id=t.member_id,e&&e()):(localStorage.removeItem("customToken"),localStorage.removeItem("member_id"),n&&n())})},loggedIn:function(t,e){return localStorage.customToken&&localStorage.member_id?t():e()}}}},[184]);
//# sourceMappingURL=app.4dbcc109b2caebe7aa9e.js.map